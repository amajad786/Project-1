var form=document.getElementById("form");let name=document.getElementById("name"),mobile=document.getElementById("mobile"),email=document.getElementById("email"),courses=document.getElementById("courses"),textArea=document.getElementById("message"),loader=document.getElementById("loader");form.addEventListener("submit",function(a){if(a.preventDefault(),!validateInputs())return;loader.style.display="block";let c=document.getElementById("myModel"),b=document.getElementsByClassName("close")[0],d=document.getElementById("messageChange");b.onclick=function(){c.style.display="none"},fetch("https://aiyoit.com/drive/save_data.php",{method:"POST",body:JSON.stringify({name:name.value,mobile:mobile.value,course:courses.value,email:email.value,message:textArea.value}),headers:{"Content-type":"application/json; charset=Utf-8"}}).then(function(a){return loader.style.display="none",a.json()}).then(function(a){a.success?(name.value="",mobile.value="",courses.value="",email.value="",textArea.value="",c.style.display="block"):d.innerHTML="This form is failed"})});const setError=(a,b)=>{let c=a.parentElement,d=c.querySelector(".error");d.innerText=b},isValidEmail=a=>{let b=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return b.test(String(a).toLowerCase())};function validateInputs(){let a=name.value.trim(),b=mobile.value.trim(),c=email.value.trim(),d=textArea.value.trim();return""===a?(setError(name,"username is required"),!1):b.length<10?(setError(mobile,"Phone number should be at 10 digit"),!1):isValidEmail(c)?" "!==d||(setError(textArea,"Message is required"),!1):(setError(email,"Provide a valid email address"),!1)}